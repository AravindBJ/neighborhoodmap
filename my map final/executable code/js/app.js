function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:10.6918014,lng:78.2767913},zoom:10}),windowInfo=new google.maps.InfoWindow,getmymarkers()}function getmymarkers(){for(var a=new google.maps.LatLngBounds,e=0;e<myplaces.length;e++){var i=myplaces[e].location,t=myplaces[e].title,n=myplaces[e].img;marker=new google.maps.Marker({map:map,position:i,title:t,animation:google.maps.Animation.DROP,img:n}),markers.push(marker),marker.addListener("click",function(){populateInfoWindow(this,windowInfo),toggleBouncer(this)}),a.extend(markers[e].position),myplaces[e].marker=marker}map.fitBounds(a)}function populateInfoWindow(a,e){var i="http://en.wikipedia.org/w/api.php?action=opensearch&search="+a.title+"&format=json&callback=wikiCallback";$.ajax({url:i,dataType:"jsonp"}).done(function(i){var t=i[0],n="http://en.wikipedia.org/wiki/"+t;e.marker!=a&&(e.setContent("<div>"+a.title+'</div><br><img src="'+a.img+'" alt="Image of '+a.title+'"><br><br><div>Wikipedia link </div><br><div><a href="'+n+'">'+n+"</a></div>"),e.marker=a,e.open(map,a),e.addListener("closeclick",function(){e.marker=null}))}).fail(function(a,e){alert("Failed to get wikipedia resources.Please check the network connection!")})}function toggleBouncer(a){a.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(google.maps.Animation["null"])},1300)}var reload=function(){window.location.reload()};jQuery(function(a){a(".menu-btn").click(function(){a(".responsive-menu").toggleClass("expand")})});var map,marker,windowInfo,markers=[],myplaces=[{title:"Chennai",location:{lat:13.08784,lng:80.27847},img:"img/chennai-city-aerial-view.jpg"},{title:"Shore Temple",location:{lat:12.62091,lng:80.19331},img:"img/Mahaballipuram-Shore-Temple.jpg"},{title:"Kanchipuram",location:{lat:12.83515,lng:79.70006},img:"img/Kanchipuram-Kailasanathar-temple.jpg"},{title:"Rameswaram",location:{lat:9.2885,lng:79.31271},img:"img/rameshwaram.jpg"},{title:"Thanjavur",location:{lat:10.78523,lng:79.13909},img:"img/Thanjavur-Brihadeeshwara-Temple.jpg"},{title:"Yelagiri",location:{lat:12.552,lng:78.612},img:"img/Yelagiri.jpg"},{title:"Kanyakumari",location:{lat:8.084915,lng:77.541796},img:"img/Gozer_Kanyakumari.jpg"},{title:"Ooty",location:{lat:11.41,lng:76.699997},img:"img/Ooty.jpg"},{title:"Kodaikanal",location:{lat:10.23925,lng:77.48932},img:"img/Kodaikanal.jpg"},{title:"Valparai",location:{lat:10.32691,lng:76.95116},img:"img/Valparai.jpg"},{title:"Hogenakkal Falls",location:{lat:12.117,lng:77.776},img:"img/Hogenakkal.jpg"},{title:"Madurai",location:{lat:9.939093,lng:78.121719},img:"img/Madurai-Meenakshi-Temple.jpg"}],PageViewModel=function(){var a=this;a.navi=ko.observable(""),a.myplaces=ko.observableArray(myplaces),a.title=ko.observable(""),this.setMarker=function(){populateInfoWindow(this.marker,windowInfo)},a.query=ko.observable(""),a.search=ko.computed(function(){return mysearchList=ko.utils.arrayFilter(a.myplaces(),function(e){return e.title.toLowerCase().indexOf(a.query().toLowerCase())>=0?(e.marker&&e.marker.setVisible(!0),!0):void e.marker.setVisible(!1)})})};ko.applyBindings(new PageViewModel);var Alert=function(){alert("Failed to load!!Network error")};
